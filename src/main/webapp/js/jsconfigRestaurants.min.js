var initTableParams=null;function InitTableParams(a){this.txtdadesCargades=a}$(document).ready(function(){now=new Date();$("#config_rest").hide();selectedDate=new Date();document.getElementById("div_calendar").innerHTML="";loadCalendar("ca");var a=now.getDate();clickDay(a)});function loadMotersAndConfig(a){var b=$("#selectedDia").val();data="id="+a+"&dia="+b;$.ajax({type:"POST",url:"/onlineBot/admin/loadMotersAndConfig.action",dataType:"json",data:data,success:function(c){if(c!=null&&c.error!=null){$("#errorsajaxlabel").text(c.error);$("#errorsajax").show()}else{if(c.obert==true){$("#obert").prop("checked",true)}else{$("#obert").prop("checked",false)}alert(initTableParams.txtdadesCargades)}},error:function(c){$("#errorsajaxlabel").text("Error in ajax call");$("#errorsajax").show()}})}function pad(e,b,d){if(null==e){e=""}var a="";for(var c=0;c<Math.abs(d);c++){a+=b}if(d>0){var g=(e+a);var f=Math.max(e.length,d);return g.substring(0,f)}else{var g=(a+e);var j=g.length+d;var h=g.length;return g.substring(j,h)}}var datepicker=null;function loadCalendar(lang){var local={days:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte","Diumenge"],daysShort:["diu","dll","dim","dix","dij","div","dis","diu"],daysMin:["diu","dll","dim","dix","dij","div","dis","diu"],months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthsShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],weekMin:"Set"};if(lang=="es"){local={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["dom","lun","mar","mié","jue","vie","sab","dom"],daysMin:["dom","lun","mar","mié","jue","vie","sab","dom"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],weekMin:"Sem"}}var year=now.getFullYear();var month=now.getMonth()+1;var oo=[];if(oo!=null){oo=oo.slice(0)}else{oo==[]}oo=[];var hoy=new Date();var hoyYear=hoy.getFullYear();var hoyMonth=hoy.getMonth()+1;var hoyDay=hoy.getDate();var hoy=hoyYear+"-"+pad(hoyMonth,"0",-2)+"-"+pad(hoyDay,"0",-2);$("#div_calendar").DatePicker({flat:true,dateOk:[hoy],dateNook:eval([""]),dateEsp:oo,current:year+"-"+pad(month,"0",-2)+"-01",format:"Y-m-d",calendars:1,mode:"multiple",extraHeight:1,extraWidth:1,starts:1,locale:local});$(".datepickerDays tr td").addClass("hand_cursor").click(function(){$(".datepickerDays tr td").removeClass("border_selected");$(".datepickerDays tr td").removeClass("green");if(!$(this).hasClass("datepickerNotInMonth")){$(this).addClass("border_selected");clickDay($("span",this).html())}else{var dia=$("span",this).html();if(parseInt(dia)<15){nextYear(lang)}else{previousYear(lang)}}})}function clickDay(d){var a=now.getFullYear();var b=now.getMonth()+1;selectedDate=new Date(a,b,d,0,0,0,0);var c=d+"-"+b+"-"+a;$("#selectedDia").val(c);$("#datePicked").text(c);$("#config_rest").show("slow")}ButtonPanel=Ext.extend(Ext.Panel,{id:"panelb",layout:"table",defaultType:"button",baseCls:"x-plain",cls:"btn-panel",renderTo:"plantillabut",menu:undefined,split:false,layoutConfig:{columns:3},constructor:function(f,e){for(var d=0,a;a=e[d];d++){a.menu=this.menu;a.enableToggle=this.enableToggle;a.split=this.split;a.arrowAlign=this.arrowAlign}var c=[{xtype:"box",autoEl:{tag:"h3",html:f,style:"padding:15px 0 3px;"},colspan:3}].concat(e);ButtonPanel.superclass.constructor.call(this,{items:c})}});function nextYear(a){document.getElementById("div_calendar").innerHTML="";now.setDate(1);now.setMonth(now.getMonth()+1);loadCalendar(a)}function previousYear(a){document.getElementById("div_calendar").innerHTML="";now.setDate(1);now.setMonth(now.getMonth()-1);loadCalendar(a)};