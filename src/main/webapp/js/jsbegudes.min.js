var initTableParams=null;function InitTableParams(e,a,g,d,i,c,b,h,f){this.txtlast=e;this.txtnext=a;this.txtprevious=g;this.txtfirst=d;this.txtloading=i;this.txtborrat=c;this.txtconfirmborrabeguga=b;this.txterrordouble=h;this.txterrornumber=f}function onlyDouble(a,b){if(a==""||/^[0-9]*\.[0-9]*$/.test(a)){$("#"+b).css("border","solid 1px rgb(135,155,179)")}else{$("#"+b).css("border","solid 1px red");alert(initTableParams.txterrordouble)}}function onlyEntero(a,b){if(a==""||/^[0-9]*$/.test(a)){$("#"+b).css("border","solid 1px rgb(135,155,179)")}else{$("#"+b).css("border","solid 1px red");alert(initTableParams.txterrornumber)}}function ismaxlength(b,a){if(b.getAttribute&&b.value.length>a){b.value=b.value.substring(0,a)}}function opendivNewBeguda(){resetForm();$("#infobegudanew").show("slow")}function resetForm(){$("#nomBeguda").val("");$("#tipusBeguda option:first").attr("selected","selected");$("#importBeguda").val("");$("#descripcioBeguda").val("");$("#id").val("")}function reloadTableBegudes(){oTablebegudes.fnDeleteRow(0)}function showDivBeguda(a){data="idBeguda="+a;$.ajax({type:"POST",url:"/onlineBot/admin/ajaxLoadBegudaAction.action",dataType:"json",data:data,success:function(b){if(b==null||b.error!=null){$("#errorsajaxlabel").text(b.error);$("#errorsajax").show()}else{$("#id").val(b.id);$("#nomBeguda").val(b.nom);$("#tipusBeguda").val(b.tipus);$("#importBeguda").val(b.preu);$("#descripcioBeguda").val(b.descripcio);$("#infobegudanew").show("slow")}},error:function(b){$("#errorsajaxlabel").text("Error in ajax call");$("#errorsajax").show()}})}function deleteBeguda(b){var a=confirm(initTableParams.txtconfirmborrabeguda);if(a==false){return}else{data="idBeguda="+b;$.ajax({type:"POST",url:"/onlineBot/admin/ajaxDeleteBeguda.action",dataType:"json",data:data,success:function(c){if(c!=null&&c.error!=null){$("#errorsajaxlabel").text(c.error);$("#errorsajax").show()}else{alert(initTableParams.txtborrat);reloadTableBegudes()}},error:function(c){$("#errorsajaxlabel").text("Error in ajax call");$("#errorsajax").show()}})}}var oTablebegudes=null;$(document).ready(function(){oTablebegudes=$("#tbl_begudes").dataTable({iDisplayLength:12,aoColumns:[{mDataProp:"tipus",bSortable:false,sWidth:"150px"},{mDataProp:"nom",bSortable:false,sWidth:"350px"},{mDataProp:"preu",bSortable:false,sWidth:"40px"},{mDataProp:"accio",bSortable:false,sWidth:"40px"}],sPaginationType:"full_numbers",oLanguage:{sProcessing:"<img src='/onlineBot/images/large-loading.gif' style='vertical-align:middle'>&nbsp;"+initTableParams.txtloading,oPaginate:{sFirst:"<img src='/onlineBot/images/icono-paginador-inicio.gif' style='vertical-align:middle'>&nbsp;"+initTableParams.txtfirst,sLast:initTableParams.txtlast+"&nbsp;<img src='/onlineBot/images/icono-paginador-fin.gif' style='vertical-align:middle'>",sNext:initTableParams.txtnext+"&nbsp;<img src='/onlineBot/images/icono-paginador-siguiente.gif' style='vertical-align:middle'>",sPrevious:"<img src='/onlineBot/images/icono-paginador-anterior.gif' style='vertical-align:middle'>&nbsp;"+initTableParams.txtprevious}},sScrollY:"300",sScrollX:"752",bScrollCollapse:true,bProcessing:false,bServerSide:true,sAjaxSource:"/onlineBot/admin/ajaxTableBegudes.action",fnServerData:function(b,a,c){$.ajax({url:b,data:a,dataType:"json",cache:false,success:function(d){if(d.error!=null){$("#errorsajaxlabel").text(d.error);$("#errorsajax").show()}else{c(d)}},error:function(d){$("#errorsajaxlabel").text("Error in ajax call");$("#errorsajax").show()}})}});$("#infobegudanew").hide();$("#errorsajax").hide()});